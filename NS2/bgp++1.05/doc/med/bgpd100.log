2015/07/24 19:51:00  0.000000 BGP: 3.3.3.1 [FSM] BGP_Stop (Idle->Idle)
2015/07/24 19:51:00  0.000000 BGP: 3.3.3.2 [FSM] BGP_Stop (Idle->Idle)
2015/07/24 19:51:00  0.000000 BGP: 4.4.4.4 [FSM] BGP_Stop (Idle->Idle)
>bgp always-compare-med
2015/07/24 19:51:05  5.109291 BGP: 4.4.4.4 [FSM] Timer (start timer expire).
2015/07/24 19:51:05  5.109291 BGP: 4.4.4.4 [FSM] BGP_Start (Idle->Connect)
2015/07/24 19:51:05  5.109291 BGP: 4.4.4.4 went from Idle to Connect
2015/07/24 19:51:05  5.109291 BGP: 4.4.4.4 [FSM] TCP_connection_open_failed (Connect->Active)
2015/07/24 19:51:05  5.109291 BGP: 4.4.4.4 went from Connect to Active
2015/07/24 19:51:05  5.300311 BGP: [Event] BGP connection from host 3.3.3.1
2015/07/24 19:51:05  5.300311 BGP: [Event] BGP connection IP address 3.3.3.1 is Idle state
2015/07/24 19:51:05  5.300311 BGP: [Event] BGP closing TCP connection to IP address 3.3.3.1 
2015/07/24 19:51:06  6.384071 BGP: 3.3.3.2 [FSM] Timer (start timer expire).
2015/07/24 19:51:06  6.384071 BGP: 3.3.3.2 [FSM] BGP_Start (Idle->Connect)
2015/07/24 19:51:06  6.384071 BGP: 3.3.3.2 went from Idle to Connect
2015/07/24 19:51:06  6.384071 BGP: 3.3.3.2 [FSM] TCP_connection_open_failed (Connect->Active)
2015/07/24 19:51:06  6.384071 BGP: 3.3.3.2 went from Connect to Active
2015/07/24 19:51:07  7.106661 BGP: 3.3.3.1 [FSM] Timer (start timer expire).
2015/07/24 19:51:07  7.106661 BGP: 3.3.3.1 [FSM] BGP_Start (Idle->Connect)
2015/07/24 19:51:07  7.106661 BGP: 3.3.3.1 went from Idle to Connect
2015/07/24 19:51:07  7.106661 BGP: 3.3.3.1 [FSM] TCP_connection_open_failed (Connect->Active)
2015/07/24 19:51:07  7.106661 BGP: 3.3.3.1 went from Connect to Active
2015/07/24 19:51:07  7.199968 BGP: [Event] BGP connection from host 3.3.3.2
2015/07/24 19:51:07  7.199968 BGP: [Event] Make dummy peer structure until read Open packet
2015/07/24 19:51:07  7.199968 BGP: 3.3.3.2 [FSM] TCP_connection_open (Active->OpenSent)
2015/07/24 19:51:07  7.199968 BGP: 3.3.3.2 went from Active to OpenSent
2015/07/24 19:51:07  7.200635 BGP: 3.3.3.2 rcv message type 1, length (excl. header) 26
2015/07/24 19:51:07  7.200635 BGP: 3.3.3.2 rcv OPEN, version 4, remote-as 300, holdtime 180, id 3.3.3.2
2015/07/24 19:51:07  7.200635 BGP: 3.3.3.2 [Event] Transfer temporary BGP peer to existing one
2015/07/24 19:51:07  7.200635 BGP: 3.3.3.2 sending OPEN, version 4, my as 100, holdtime 180, id 1.1.1.1
2015/07/24 19:51:07  7.200635 BGP: 3.3.3.2 send message type 1, length (incl. header) 45
2015/07/24 19:51:07  7.200635 BGP: 3.3.3.2 rcv OPEN w/ OPTION parameter len: 16
2015/07/24 19:51:07  7.200635 BGP: 3.3.3.2 rcvd OPEN w/ optional parameter type 2 (Capability) len 6
2015/07/24 19:51:07  7.200635 BGP: 3.3.3.2 OPEN has CAPABILITY code: 1, length 4
2015/07/24 19:51:07  7.200635 BGP: 3.3.3.2 OPEN has MP_EXT CAP for afi/safi: 1/1
2015/07/24 19:51:07  7.200635 BGP: 3.3.3.2 rcvd OPEN w/ optional parameter type 2 (Capability) len 2
2015/07/24 19:51:07  7.200635 BGP: 3.3.3.2 OPEN has CAPABILITY code: 128, length 0
2015/07/24 19:51:07  7.200635 BGP: 3.3.3.2 OPEN has ROUTE-REFRESH capability(old) for all address-families
2015/07/24 19:51:07  7.200635 BGP: 3.3.3.2 rcvd OPEN w/ optional parameter type 2 (Capability) len 2
2015/07/24 19:51:07  7.200635 BGP: 3.3.3.2 OPEN has CAPABILITY code: 2, length 0
2015/07/24 19:51:07  7.200635 BGP: 3.3.3.2 OPEN has ROUTE-REFRESH capability(New) for all address-families
2015/07/24 19:51:07  7.200635 BGP: 3.3.3.2 [Event] Accepting BGP peer delete
2015/07/24 19:51:07  7.200635 BGP: 3.3.3.2 [FSM] Receive_OPEN_message (OpenSent->OpenConfirm)
2015/07/24 19:51:07  7.200635 BGP: 3.3.3.2 went from OpenSent to OpenConfirm
2015/07/24 19:51:07  7.200635 BGP: 3.3.3.2 sending KEEPALIVE
2015/07/24 19:51:07  7.200635 BGP: 3.3.3.2 send message type 4, length (incl. header) 19
2015/07/24 19:51:07  7.203403 BGP: 3.3.3.2 rcv message type 4, length (excl. header) 0
2015/07/24 19:51:07  7.203403 BGP: 3.3.3.2 KEEPALIVE rcvd
2015/07/24 19:51:07  7.203403 BGP: 3.3.3.2 [FSM] Receive_KEEPALIVE_message (OpenConfirm->Established)
2015/07/24 19:51:07  7.203403 BGP: 3.3.3.2 went from OpenConfirm to Established
2015/07/24 19:51:07  7.203403 BGP: 3.3.3.2 sending KEEPALIVE
2015/07/24 19:51:07  7.203403 BGP: 3.3.3.2 send message type 4, length (incl. header) 19
2015/07/24 19:51:07  7.206032 BGP: 3.3.3.2 rcv message type 4, length (excl. header) 0
2015/07/24 19:51:07  7.206032 BGP: 3.3.3.2 KEEPALIVE rcvd
2015/07/24 19:51:07  7.206032 BGP: 3.3.3.2 [FSM] Receive_KEEPALIVE_message (Established->Established)
2015/07/24 19:51:08  8.311432 BGP: 3.3.3.2 rcvd UPDATE w/ attr: nexthop 3.3.3.2, origin i, metric 200, path 300
2015/07/24 19:51:08  8.311432 BGP: 3.3.3.2 rcvd 180.10.0.0/16
2015/07/24 19:51:08  8.311432 BGP: 3.3.3.2 [FSM] Receive_UPDATE_message (Established->Established)
2015/07/24 19:52:07  67.200635 BGP: 3.3.3.2 [FSM] Timer (keepalive timer expire)
2015/07/24 19:52:07  67.200635 BGP: 3.3.3.2 [FSM] KeepAlive_timer_expired (Established->Established)
2015/07/24 19:52:07  67.200635 BGP: 3.3.3.2 sending KEEPALIVE
2015/07/24 19:52:07  67.200635 BGP: 3.3.3.2 send message type 4, length (incl. header) 19
2015/07/24 19:52:07  67.203403 BGP: 3.3.3.2 rcv message type 4, length (excl. header) 0
2015/07/24 19:52:07  67.203403 BGP: 3.3.3.2 KEEPALIVE rcvd
2015/07/24 19:52:07  67.203403 BGP: 3.3.3.2 [FSM] Receive_KEEPALIVE_message (Established->Established)
2015/07/24 19:53:05  125.305165 BGP: [Event] BGP connection from host 3.3.3.1
2015/07/24 19:53:05  125.305165 BGP: [Event] Make dummy peer structure until read Open packet
2015/07/24 19:53:05  125.305165 BGP: 3.3.3.1 [FSM] TCP_connection_open (Active->OpenSent)
2015/07/24 19:53:05  125.305165 BGP: 3.3.3.1 went from Active to OpenSent
2015/07/24 19:53:05  125.305831 BGP: 3.3.3.1 rcv message type 1, length (excl. header) 26
2015/07/24 19:53:05  125.305831 BGP: 3.3.3.1 rcv OPEN, version 4, remote-as 300, holdtime 180, id 3.3.3.1
2015/07/24 19:53:05  125.305831 BGP: 3.3.3.1 [Event] Transfer temporary BGP peer to existing one
2015/07/24 19:53:05  125.305831 BGP: 3.3.3.1 sending OPEN, version 4, my as 100, holdtime 180, id 1.1.1.1
2015/07/24 19:53:05  125.305831 BGP: 3.3.3.1 send message type 1, length (incl. header) 45
2015/07/24 19:53:05  125.305831 BGP: 3.3.3.1 rcv OPEN w/ OPTION parameter len: 16
2015/07/24 19:53:05  125.305831 BGP: 3.3.3.1 rcvd OPEN w/ optional parameter type 2 (Capability) len 6
2015/07/24 19:53:05  125.305831 BGP: 3.3.3.1 OPEN has CAPABILITY code: 1, length 4
2015/07/24 19:53:05  125.305831 BGP: 3.3.3.1 OPEN has MP_EXT CAP for afi/safi: 1/1
2015/07/24 19:53:05  125.305831 BGP: 3.3.3.1 rcvd OPEN w/ optional parameter type 2 (Capability) len 2
2015/07/24 19:53:05  125.305831 BGP: 3.3.3.1 OPEN has CAPABILITY code: 128, length 0
2015/07/24 19:53:05  125.305831 BGP: 3.3.3.1 OPEN has ROUTE-REFRESH capability(old) for all address-families
2015/07/24 19:53:05  125.305831 BGP: 3.3.3.1 rcvd OPEN w/ optional parameter type 2 (Capability) len 2
2015/07/24 19:53:05  125.305831 BGP: 3.3.3.1 OPEN has CAPABILITY code: 2, length 0
2015/07/24 19:53:05  125.305831 BGP: 3.3.3.1 OPEN has ROUTE-REFRESH capability(New) for all address-families
2015/07/24 19:53:05  125.305831 BGP: 3.3.3.1 [Event] Accepting BGP peer delete
2015/07/24 19:53:05  125.305831 BGP: 3.3.3.1 [FSM] Receive_OPEN_message (OpenSent->OpenConfirm)
2015/07/24 19:53:05  125.305831 BGP: 3.3.3.1 went from OpenSent to OpenConfirm
2015/07/24 19:53:05  125.305831 BGP: 3.3.3.1 sending KEEPALIVE
2015/07/24 19:53:05  125.305831 BGP: 3.3.3.1 send message type 4, length (incl. header) 19
2015/07/24 19:53:05  125.308599 BGP: 3.3.3.1 rcv message type 4, length (excl. header) 0
2015/07/24 19:53:05  125.308599 BGP: 3.3.3.1 KEEPALIVE rcvd
2015/07/24 19:53:05  125.308599 BGP: 3.3.3.1 [FSM] Receive_KEEPALIVE_message (OpenConfirm->Established)
2015/07/24 19:53:05  125.308599 BGP: 3.3.3.1 went from OpenConfirm to Established
2015/07/24 19:53:05  125.308599 BGP: 3.3.3.1 sending KEEPALIVE
2015/07/24 19:53:05  125.308599 BGP: 3.3.3.1 send message type 4, length (incl. header) 19
2015/07/24 19:53:05  125.308599 BGP: 3.3.3.1 send UPDATE 180.10.0.0/16 nexthop 1.1.1.1, origin i, metric 200, path 300
2015/07/24 19:53:05  125.311229 BGP: 3.3.3.1 rcv message type 4, length (excl. header) 0
2015/07/24 19:53:05  125.311229 BGP: 3.3.3.1 KEEPALIVE rcvd
2015/07/24 19:53:05  125.311229 BGP: 3.3.3.1 [FSM] Receive_KEEPALIVE_message (Established->Established)
2015/07/24 19:53:05  125.314274 BGP: 3.3.3.1 rcvd UPDATE w/ attr: nexthop 3.3.3.1, origin i, metric 120, path 300
2015/07/24 19:53:05  125.314274 BGP: 3.3.3.1 rcvd 180.10.0.0/16
2015/07/24 19:53:05  125.314274 BGP: 3.3.3.1 send UPDATE 180.10.0.0/16 -- unreachable
2015/07/24 19:53:05  125.314274 BGP: 3.3.3.2 send UPDATE 180.10.0.0/16 nexthop 1.1.1.1, origin i, metric 120, path 300
2015/07/24 19:53:05  125.314274 BGP: 3.3.3.1 [FSM] Receive_UPDATE_message (Established->Established)
2015/07/24 19:53:07  127.200635 BGP: 3.3.3.2 [FSM] Timer (keepalive timer expire)
2015/07/24 19:53:07  127.200635 BGP: 3.3.3.2 [FSM] KeepAlive_timer_expired (Established->Established)
2015/07/24 19:53:07  127.200635 BGP: 3.3.3.2 sending KEEPALIVE
2015/07/24 19:53:07  127.200635 BGP: 3.3.3.2 send message type 4, length (incl. header) 19
2015/07/24 19:53:07  127.203403 BGP: 3.3.3.2 rcv message type 4, length (excl. header) 0
2015/07/24 19:53:07  127.203403 BGP: 3.3.3.2 KEEPALIVE rcvd
2015/07/24 19:53:07  127.203403 BGP: 3.3.3.2 [FSM] Receive_KEEPALIVE_message (Established->Established)
2015/07/24 19:54:05  185.305831 BGP: 3.3.3.1 [FSM] Timer (keepalive timer expire)
2015/07/24 19:54:05  185.305831 BGP: 3.3.3.1 [FSM] KeepAlive_timer_expired (Established->Established)
2015/07/24 19:54:05  185.305831 BGP: 3.3.3.1 sending KEEPALIVE
2015/07/24 19:54:05  185.305831 BGP: 3.3.3.1 send message type 4, length (incl. header) 19
2015/07/24 19:54:05  185.308599 BGP: 3.3.3.1 rcv message type 4, length (excl. header) 0
2015/07/24 19:54:05  185.308599 BGP: 3.3.3.1 KEEPALIVE rcvd
2015/07/24 19:54:05  185.308599 BGP: 3.3.3.1 [FSM] Receive_KEEPALIVE_message (Established->Established)
2015/07/24 19:54:07  187.200635 BGP: 3.3.3.2 [FSM] Timer (keepalive timer expire)
2015/07/24 19:54:07  187.200635 BGP: 3.3.3.2 [FSM] KeepAlive_timer_expired (Established->Established)
2015/07/24 19:54:07  187.200635 BGP: 3.3.3.2 sending KEEPALIVE
2015/07/24 19:54:07  187.200635 BGP: 3.3.3.2 send message type 4, length (incl. header) 19
2015/07/24 19:54:07  187.203403 BGP: 3.3.3.2 rcv message type 4, length (excl. header) 0
2015/07/24 19:54:07  187.203403 BGP: 3.3.3.2 KEEPALIVE rcvd
2015/07/24 19:54:07  187.203403 BGP: 3.3.3.2 [FSM] Receive_KEEPALIVE_message (Established->Established)
2015/07/24 19:54:28  208.260324 BGP: [Event] BGP connection from host 4.4.4.4
2015/07/24 19:54:28  208.260324 BGP: [Event] Make dummy peer structure until read Open packet
2015/07/24 19:54:28  208.260324 BGP: 4.4.4.4 [FSM] TCP_connection_open (Active->OpenSent)
2015/07/24 19:54:28  208.260324 BGP: 4.4.4.4 went from Active to OpenSent
2015/07/24 19:54:28  208.260990 BGP: 4.4.4.4 rcv message type 1, length (excl. header) 26
2015/07/24 19:54:28  208.260990 BGP: 4.4.4.4 rcv OPEN, version 4, remote-as 400, holdtime 180, id 4.4.4.4
2015/07/24 19:54:28  208.260990 BGP: 4.4.4.4 [Event] Transfer temporary BGP peer to existing one
2015/07/24 19:54:28  208.260990 BGP: 4.4.4.4 sending OPEN, version 4, my as 100, holdtime 180, id 1.1.1.1
2015/07/24 19:54:28  208.260990 BGP: 4.4.4.4 send message type 1, length (incl. header) 45
2015/07/24 19:54:28  208.260990 BGP: 4.4.4.4 rcv OPEN w/ OPTION parameter len: 16
2015/07/24 19:54:28  208.260990 BGP: 4.4.4.4 rcvd OPEN w/ optional parameter type 2 (Capability) len 6
2015/07/24 19:54:28  208.260990 BGP: 4.4.4.4 OPEN has CAPABILITY code: 1, length 4
2015/07/24 19:54:28  208.260990 BGP: 4.4.4.4 OPEN has MP_EXT CAP for afi/safi: 1/1
2015/07/24 19:54:28  208.260990 BGP: 4.4.4.4 rcvd OPEN w/ optional parameter type 2 (Capability) len 2
2015/07/24 19:54:28  208.260990 BGP: 4.4.4.4 OPEN has CAPABILITY code: 128, length 0
2015/07/24 19:54:28  208.260990 BGP: 4.4.4.4 OPEN has ROUTE-REFRESH capability(old) for all address-families
2015/07/24 19:54:28  208.260990 BGP: 4.4.4.4 rcvd OPEN w/ optional parameter type 2 (Capability) len 2
2015/07/24 19:54:28  208.260990 BGP: 4.4.4.4 OPEN has CAPABILITY code: 2, length 0
2015/07/24 19:54:28  208.260990 BGP: 4.4.4.4 OPEN has ROUTE-REFRESH capability(New) for all address-families
2015/07/24 19:54:28  208.260990 BGP: 4.4.4.4 [Event] Accepting BGP peer delete
2015/07/24 19:54:28  208.260990 BGP: 4.4.4.4 [FSM] Receive_OPEN_message (OpenSent->OpenConfirm)
2015/07/24 19:54:28  208.260990 BGP: 4.4.4.4 went from OpenSent to OpenConfirm
2015/07/24 19:54:28  208.260990 BGP: 4.4.4.4 sending KEEPALIVE
2015/07/24 19:54:28  208.260990 BGP: 4.4.4.4 send message type 4, length (incl. header) 19
2015/07/24 19:54:28  208.263758 BGP: 4.4.4.4 rcv message type 4, length (excl. header) 0
2015/07/24 19:54:28  208.263758 BGP: 4.4.4.4 KEEPALIVE rcvd
2015/07/24 19:54:28  208.263758 BGP: 4.4.4.4 [FSM] Receive_KEEPALIVE_message (OpenConfirm->Established)
2015/07/24 19:54:28  208.263758 BGP: 4.4.4.4 went from OpenConfirm to Established
2015/07/24 19:54:28  208.263758 BGP: 4.4.4.4 sending KEEPALIVE
2015/07/24 19:54:28  208.263758 BGP: 4.4.4.4 send message type 4, length (incl. header) 19
2015/07/24 19:54:28  208.263758 BGP: 4.4.4.4 send UPDATE 180.10.0.0/16 nexthop 1.1.1.1, origin i, metric 120, path 300
2015/07/24 19:54:28  208.266388 BGP: 4.4.4.4 rcv message type 4, length (excl. header) 0
2015/07/24 19:54:28  208.266388 BGP: 4.4.4.4 KEEPALIVE rcvd
2015/07/24 19:54:28  208.266388 BGP: 4.4.4.4 [FSM] Receive_KEEPALIVE_message (Established->Established)
2015/07/24 19:54:28  208.269433 BGP: 4.4.4.4 rcvd UPDATE w/ attr: nexthop 4.4.4.4, origin i, metric 50, path 400
2015/07/24 19:54:28  208.269433 BGP: 4.4.4.4 rcvd 180.10.0.0/16
2015/07/24 19:54:28  208.269433 BGP: 3.3.3.1 send UPDATE 180.10.0.0/16 nexthop 1.1.1.1, origin i, metric 50, path 400
2015/07/24 19:54:28  208.269433 BGP: 3.3.3.2 send UPDATE 180.10.0.0/16 nexthop 1.1.1.1, origin i, metric 50, path 400
2015/07/24 19:54:28  208.269433 BGP: 4.4.4.4 send UPDATE 180.10.0.0/16 -- unreachable
2015/07/24 19:54:28  208.269433 BGP: 4.4.4.4 [FSM] Receive_UPDATE_message (Established->Established)
2015/07/24 19:55:05  245.305831 BGP: 3.3.3.1 [FSM] Timer (keepalive timer expire)
2015/07/24 19:55:05  245.305831 BGP: 3.3.3.1 [FSM] KeepAlive_timer_expired (Established->Established)
2015/07/24 19:55:05  245.305831 BGP: 3.3.3.1 sending KEEPALIVE
2015/07/24 19:55:05  245.305831 BGP: 3.3.3.1 send message type 4, length (incl. header) 19
2015/07/24 19:55:05  245.308599 BGP: 3.3.3.1 rcv message type 4, length (excl. header) 0
2015/07/24 19:55:05  245.308599 BGP: 3.3.3.1 KEEPALIVE rcvd
2015/07/24 19:55:05  245.308599 BGP: 3.3.3.1 [FSM] Receive_KEEPALIVE_message (Established->Established)
2015/07/24 19:55:07  247.200635 BGP: 3.3.3.2 [FSM] Timer (keepalive timer expire)
2015/07/24 19:55:07  247.200635 BGP: 3.3.3.2 [FSM] KeepAlive_timer_expired (Established->Established)
2015/07/24 19:55:07  247.200635 BGP: 3.3.3.2 sending KEEPALIVE
2015/07/24 19:55:07  247.200635 BGP: 3.3.3.2 send message type 4, length (incl. header) 19
2015/07/24 19:55:07  247.203403 BGP: 3.3.3.2 rcv message type 4, length (excl. header) 0
2015/07/24 19:55:07  247.203403 BGP: 3.3.3.2 KEEPALIVE rcvd
2015/07/24 19:55:07  247.203403 BGP: 3.3.3.2 [FSM] Receive_KEEPALIVE_message (Established->Established)
2015/07/24 19:55:28  268.260990 BGP: 4.4.4.4 [FSM] Timer (keepalive timer expire)
2015/07/24 19:55:28  268.260990 BGP: 4.4.4.4 [FSM] KeepAlive_timer_expired (Established->Established)
2015/07/24 19:55:28  268.260990 BGP: 4.4.4.4 sending KEEPALIVE
2015/07/24 19:55:28  268.260990 BGP: 4.4.4.4 send message type 4, length (incl. header) 19
2015/07/24 19:55:28  268.263758 BGP: 4.4.4.4 rcv message type 4, length (excl. header) 0
2015/07/24 19:55:28  268.263758 BGP: 4.4.4.4 KEEPALIVE rcvd
2015/07/24 19:55:28  268.263758 BGP: 4.4.4.4 [FSM] Receive_KEEPALIVE_message (Established->Established)
>show ip bgp
BGP table version is 0, local router ID is 1.1.1.1
Status codes: s suppressed, d damped, h history, * valid, > best, i - internal
Origin codes: i - IGP, e - EGP, ? - incomplete

   Network          Next Hop            Metric LocPrf Weight Path
*> 180.10.0.0       4.4.4.4                 50             0  400i
*                   3.3.3.1                120             0  300i
*                   3.3.3.2                200             0  300i

Total number of prefixes 1
